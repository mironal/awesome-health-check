{"version":3,"sources":["options.ts"],"names":[],"mappings":"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","file":"options.js","sourceRoot":"../src","sourcesContent":["const inputValue = () => {\n  const input = document.getElementById(\"github_token_input\")\n  if (!input || !(input instanceof HTMLInputElement)) {\n    return\n  }\n  return input.value\n}\n\nconst save = (github_access_token: string) => {\n  if (!chrome.storage) {\n    return\n  }\n  chrome.storage.sync.set(\n    {\n      github_access_token,\n    },\n    () => {\n      const label = document.getElementById(\"message_label\")\n      if (label) {\n        label.textContent = \"Saved! φ(•ᴗ•๑)\"\n        label.classList.remove(\"hide\")\n        setTimeout(() => label.classList.add(\"hide\"), 1000)\n      }\n    },\n  )\n}\n\nconst restore = () => {\n  if (!chrome.storage) {\n    return\n  }\n  chrome.storage.sync.get(\n    {\n      github_access_token: \"\",\n    },\n    items => {\n      const input = document.getElementById(\"github_token_input\")\n      if (!input || !(input instanceof HTMLInputElement)) {\n        return\n      }\n      input.value = items.github_access_token\n\n      if (items.github_access_token.length > 0) {\n        const label = document.getElementById(\"message_label\")\n        if (label) {\n          label.textContent = \"Restored φ(•ᴗ•๑)\"\n          label.classList.remove(\"hide\")\n          setTimeout(() => label.classList.add(\"hide\"), 1000)\n        }\n        const deleteBtn = document.getElementById(\"delete_button\")\n        if (deleteBtn && deleteBtn instanceof HTMLButtonElement) {\n          deleteBtn.disabled = false\n        }\n      }\n    },\n  )\n}\n\nif (document.readyState === \"loading\") {\n  document.addEventListener(\"DOMContentLoaded\", restore)\n} else {\n  restore()\n}\n\nconst button = document.getElementById(\"save_button\")\nif (button) {\n  button.addEventListener(\"keyup\", () => {\n    const token = inputValue()\n    if (token && token.length > 0) {\n      save(token)\n    }\n  })\n}\n\nconst deleteBtn = document.getElementById(\"delete_button\")\nif (deleteBtn) {\n  deleteBtn.addEventListener(\"click\", () => {\n    if (confirm(\"Are you sure?\")) {\n      save(\"\")\n      const input = document.getElementById(\"github_token_input\")\n      if (input instanceof HTMLInputElement) {\n        input.value = \"\"\n      }\n    }\n  })\n}\n"]}